<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="/css/styles.css">
  <script src="/js/productZoom.js"></script>
</head>
<body>
  <!-- Breadcrumbs -->
  <nav>
    <a href="/">Home</a> / <a href="/products">Products</a> / <%= product.name %>
  </nav>

  <!-- Product Details -->
  <div class="product-detail">
    <h1><%= product.name %></h1>
    <div class="product-images">
      <img id="mainImage" src="<%= product.images[0] %>" alt="<%= product.name %>" onclick="zoomImage()">
      <% product.images.forEach(image => { %>
        <img src="<%= image %>" alt="<%= product.name %>">
      <% }) %>
    </div>
    <p>Price: $<%= product.price %></p>
    <% if (product.discounts > 0) { %>
      <p>Discount: <%= product.discounts %>%</p>
    <% } %>
    <p>Stock: <%= product.stock > 0 ? 'In Stock' : 'Out of Stock' %></p>

    <!-- Ratings and Reviews -->
    <p>Ratings: <%= product.ratings %> stars</p>
    <p>Reviews:</p>
    <ul>
      <% product.reviews.forEach(review => { %>
        <li><strong><%= review.user %>:</strong> <%= review.review %></li>
      <% }) %>
    </ul>

    <!-- Product Highlights/Specs -->
    <h3>Highlights:</h3>
    <ul>
      <% product.highlights.forEach(spec => { %>
        <li><%= spec %></li>
      <% }) %>
    </ul>

    <!-- Related Products -->
    <h3>Related Products:</h3>
    <div class="related-products">
      <% relatedProducts.forEach(related => { %>
        <a href="/product/<%= related._id %>">
          <img src="<%= related.images[0] %>" alt="<%= related.name %>">
          <h4><%= related.name %></h4>
        </a>
      <% }) %>
    </div>
  </div>
</body>
</html>
